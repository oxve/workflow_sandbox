name: 'Build Cobalt'
description: 'Mocks the Cobalt build by providing static test targets.'
inputs:
  config:
    description: 'The config to build.'
    required: false
    default: 'devel'
  platform:
    description: 'The platform to build.'
    required: true

runs:
  using: "composite"
  steps:
    - name: Copy Test Targets
      shell: bash
      run: |
        echo "Mocking build for ${{ inputs.platform }} ${{ inputs.config }}"
        mkdir -p out/${{ inputs.platform }}_${{ inputs.config }}
        # Copy the pre-seeded file from dotgithub/resources
        # Note: We assume the checkout root is available.
        cp dotgithub/resources/test_targets.json out/${{ inputs.platform }}_${{ inputs.config }}/test_targets.json
